import{c as x,j as s,r as H}from"./app-BWzfhuaU.js";import{c as Y,b as Z,a as ee,C as se}from"./card-D6w_LWWX.js";import{R as te,A as le}from"./app-layout-o0D5CANZ.js";import{c as ae,a as _,B as U,S as re}from"./header-eRR0uQ4x.js";import{E as ne,B as O}from"./badge-Cxh6DDAm.js";import{I as ie}from"./input-C95vnFhy.js";import{c as ce,b as de,e as oe,D as me,d as xe}from"./dialog-TYxLvaZQ.js";/* empty css            */import"./footer-C2xQLFXu.js";import"./index-CMWG4mbA.js";import"./arrow-left-D0ZtA18D.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ue=ae("ChevronDown",fe);function he(r){const e=x.c(8);let l,t;e[0]!==r?({className:l,...t}=r,e[0]=r,e[1]=l,e[2]=t):(l=e[1],t=e[2]);let a;e[3]!==l?(a=_("w-full caption-bottom text-sm",l),e[3]=l,e[4]=a):a=e[4];let n;return e[5]!==t||e[6]!==a?(n=s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:a,...t})}),e[5]=t,e[6]=a,e[7]=n):n=e[7],n}function pe(r){const e=x.c(8);let l,t;e[0]!==r?({className:l,...t}=r,e[0]=r,e[1]=l,e[2]=t):(l=e[1],t=e[2]);let a;e[3]!==l?(a=_("[&_tr]:border-b",l),e[3]=l,e[4]=a):a=e[4];let n;return e[5]!==t||e[6]!==a?(n=s.jsx("thead",{"data-slot":"table-header",className:a,...t}),e[5]=t,e[6]=a,e[7]=n):n=e[7],n}function je(r){const e=x.c(8);let l,t;e[0]!==r?({className:l,...t}=r,e[0]=r,e[1]=l,e[2]=t):(l=e[1],t=e[2]);let a;e[3]!==l?(a=_("[&_tr:last-child]:border-0",l),e[3]=l,e[4]=a):a=e[4];let n;return e[5]!==t||e[6]!==a?(n=s.jsx("tbody",{"data-slot":"table-body",className:a,...t}),e[5]=t,e[6]=a,e[7]=n):n=e[7],n}function J(r){const e=x.c(8);let l,t;e[0]!==r?({className:l,...t}=r,e[0]=r,e[1]=l,e[2]=t):(l=e[1],t=e[2]);let a;e[3]!==l?(a=_("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",l),e[3]=l,e[4]=a):a=e[4];let n;return e[5]!==t||e[6]!==a?(n=s.jsx("tr",{"data-slot":"table-row",className:a,...t}),e[5]=t,e[6]=a,e[7]=n):n=e[7],n}function T(r){const e=x.c(8);let l,t;e[0]!==r?({className:l,...t}=r,e[0]=r,e[1]=l,e[2]=t):(l=e[1],t=e[2]);let a;e[3]!==l?(a=_("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),e[3]=l,e[4]=a):a=e[4];let n;return e[5]!==t||e[6]!==a?(n=s.jsx("th",{"data-slot":"table-head",className:a,...t}),e[5]=t,e[6]=a,e[7]=n):n=e[7],n}function D(r){const e=x.c(8);let l,t;e[0]!==r?({className:l,...t}=r,e[0]=r,e[1]=l,e[2]=t):(l=e[1],t=e[2]);let a;e[3]!==l?(a=_("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),e[3]=l,e[4]=a):a=e[4];let n;return e[5]!==t||e[6]!==a?(n=s.jsx("td",{"data-slot":"table-cell",className:a,...t}),e[5]=t,e[6]=a,e[7]=n):n=e[7],n}const Be=r=>{const e=x.c(50),{orders:l}=r;console.log(l);const[t,a]=H.useState("all"),[n,W]=H.useState(""),[c,X]=H.useState(null),[q,K]=H.useState(!1);let d;if(e[0]!==l||e[1]!==n||e[2]!==t){if(d=l,t!=="all"){let i;e[4]!==t?(i=P=>{const m=P.status.toLowerCase();return t==="successful"?m==="completed"||m==="delivered":t==="failed"?m==="cancelled"||m==="failed":t==="processing"?m==="processing":!0},e[4]=t,e[5]=i):i=e[5],d=d.filter(i)}if(n){const i=n.toLowerCase();d=d.filter(P=>P.order_number.toLowerCase().includes(i)||P.items?.some(m=>m.product?.name.toLowerCase().includes(i)))}e[0]=l,e[1]=n,e[2]=t,e[3]=d}else d=e[3];const o=d,Q=be,V=Ne;let z;e[6]===Symbol.for("react.memo_cache_sentinel")?(z=i=>{X(i),K(!0)},e[6]=z):z=e[6];const M=z;let L;e[7]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(Y,{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center justify-center size-10 bg-primary/10 rounded-full",children:s.jsx(te,{className:"size-4 text-primary"})}),"Receipt"]})}),e[7]=L):L=e[7];let B;e[8]===Symbol.for("react.memo_cache_sentinel")?(B=["all","successful","failed","processing"],e[8]=B):B=e[8];let f;e[9]!==t?(f=s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:B.map(i=>s.jsx(U,{variant:t===i?"default":"outline",size:"sm",onClick:()=>a(i),className:"capitalize",children:i==="all"?"All":i},i))}),e[9]=t,e[10]=f):f=e[10];let $;e[11]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-muted-foreground"}),e[11]=$):$=e[11];let E;e[12]===Symbol.for("react.memo_cache_sentinel")?(E=i=>W(i.target.value),e[12]=E):E=e[12];let u;e[13]!==n?(u=s.jsxs("div",{className:"relative",children:[$,s.jsx(ie,{type:"text",placeholder:"Search",value:n,onChange:E,className:"pl-9 w-full sm:w-64"})]}),e[13]=n,e[14]=u):u=e[14];let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsxs(U,{variant:"outline",size:"sm",children:["Sort by ",s.jsx(ue,{className:"ml-2 size-4"})]}),e[15]=I):I=e[15];let h;e[16]!==u?(h=s.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[u,I]}),e[16]=u,e[17]=h):h=e[17];let p;e[18]!==f||e[19]!==h?(p=s.jsxs(Z,{children:[L,s.jsxs("div",{className:"flex items-center gap-4 mt-4 overflow-x-auto flex-col sm:flex-row",children:[f,h]})]}),e[18]=f,e[19]=h,e[20]=p):p=e[20];let R;e[21]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(pe,{children:s.jsxs(J,{children:[s.jsx(T,{children:"Order ID"}),s.jsx(T,{children:"Date"}),s.jsx(T,{children:"Total cost"}),s.jsx(T,{children:"Status"}),s.jsx(T,{children:"Action"})]})}),e[21]=R):R=e[21];let j;e[22]!==o?(j=o.length===0?s.jsx(J,{children:s.jsx(D,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No orders found"})}):o.map(i=>s.jsxs(J,{className:"border-dotted border-b",children:[s.jsx(D,{className:"font-medium",children:i.order_number}),s.jsx(D,{children:V(i.created_at)}),s.jsx(D,{className:"font-semibold",children:i.total}),s.jsx(D,{children:Q(i.status)}),s.jsx(D,{children:s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>M(i),children:[s.jsx(ne,{className:"mr-2 size-4"}),"View"]})})]},i.id)),e[22]=o,e[23]=j):j=e[23];let b;e[24]!==j?(b=s.jsxs(he,{className:"hidden sm:table",children:[R,s.jsx(je,{children:j})]}),e[24]=j,e[25]=b):b=e[25];let N;e[26]!==o?(N=o.length===0?s.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"No orders found"}):o.map(i=>s.jsxs("div",{onClick:()=>M(i),className:"rounded-lg border p-4 bg-background flex justify-between",children:[s.jsxs("div",{className:"flex-col flex justify-between",children:[s.jsx("p",{className:"font-medium truncate",children:i.order_number}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:V(i.created_at)})]}),s.jsxs("div",{className:"flex flex-col items-end justify-between gap-3",children:[s.jsx("p",{className:"text-sm font-semibold",children:i.total}),s.jsx("div",{className:"shrink-0",children:Q(i.status)})]})]},i.id)),e[26]=o,e[27]=N):N=e[27];let g;e[28]!==N?(g=s.jsx("div",{className:"space-y-3 sm:hidden",children:N}),e[28]=N,e[29]=g):g=e[29];let v;e[30]!==b||e[31]!==g?(v=s.jsxs(ee,{children:[b,g]}),e[30]=b,e[31]=g,e[32]=v):v=e[32];let y;e[33]!==p||e[34]!==v?(y=s.jsxs(se,{children:[p,v]}),e[33]=p,e[34]=v,e[35]=y):y=e[35];let A;e[36]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(ce,{children:"Order Details"}),e[36]=A):A=e[36];const G=c?.order_number;let w;e[37]!==G?(w=s.jsxs(de,{children:[A,s.jsxs(oe,{children:["Order #",G]})]}),e[37]=G,e[38]=w):w=e[38];let S;e[39]!==c?(S=c&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Order Number"}),s.jsx("p",{className:"text-sm font-semibold",children:c.order_number})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"text-sm font-semibold",children:V(c.created_at)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:Q(c.status)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Payment Status"}),s.jsx("p",{className:"text-sm font-semibold",children:c.payment_status})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:c.items&&c.items.length>0?c.items.map(ve):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No items found"})})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsx("span",{className:"font-medium",children:c.subtotal})]}),parseFloat(c.tax)>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsx("span",{className:"font-medium",children:c.tax})]}),parseFloat(c.shipping)>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsx("span",{className:"font-medium",children:c.shipping})]}),s.jsxs("div",{className:"flex justify-between text-lg font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:c.total})]})]}),c.delivery_address&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Delivery Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.delivery_address})]}),c.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.notes})]})]}),e[39]=c,e[40]=S):S=e[40];let k;e[41]!==w||e[42]!==S?(k=s.jsxs(me,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[w,S]}),e[41]=w,e[42]=S,e[43]=k):k=e[43];let C;e[44]!==q||e[45]!==k?(C=s.jsx(xe,{open:q,onOpenChange:K,children:k}),e[44]=q,e[45]=k,e[46]=C):C=e[46];let F;return e[47]!==y||e[48]!==C?(F=s.jsxs(le,{children:[y,C]}),e[47]=y,e[48]=C,e[49]=F):F=e[49],F};function be(r){const e=r.toLowerCase();return e==="completed"||e==="delivered"?s.jsx(O,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:"Successful"}):e==="pending"?s.jsx(O,{className:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",children:"Pending"}):e==="processing"?s.jsx(O,{className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:"Processing"}):e==="cancelled"||e==="failed"?s.jsx(O,{className:"bg-red-100 text-red-700  dark:bg-red-900/30 dark:text-red-400",children:e==="cancelled"?"Cancelled":"Failed"}):s.jsx(O,{variant:"outline",children:r})}function Ne(r){return r?new Date(r).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):""}function ge(r){r.target.src="/placeholder-product.png"}function ve(r){return s.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[r.product?.image&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:r.product.image,alt:r.product.name||"Product",className:"w-16 h-16 object-cover rounded-md border",onError:ge})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium",children:r.product?.name||"Unknown Product"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",r.quantity," Ã— ",r.price]})]}),s.jsx("div",{className:"flex-shrink-0 text-right",children:s.jsx("p",{className:"font-semibold",children:r.total})})]},r.id)}export{Be as default};
